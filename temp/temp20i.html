<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Login Screen</h1>
    <!-- <form> -->
      <p><input type="text" id="user" placeholder="Enter Username" /></p>
      <p>
        <input
          type="password"
          autocomplete=""
          id="pass"
          placeholder="Enter Password"
        />
      </p>
      <p>
        <input type="checkbox"  id="chk" onclick="toggleCookie()" />Remember Me
      </p>
      <p><button>Login</button></p>
    <!-- </form> -->
    <script>
        
      
      const toggleCookie = () => {
        let date = new Date();
        if (chk.checked) {
          //save user and pass cookie
          date.setTime(date.getTime() + 100000);
          // let expdays = d.getTime() + 1000000;
          // console.log(expdays);
          document.cookie = `name=${user.value};expires=${date}`;
          document.cookie = `pass=${pass.value};expires=${date}`;
        } else {
          date.setTime(date.getTime() - 100000);
          document.cookie = `name=null;expires=${date}`;
          document.cookie = `pass=null;expires=${date}`;
          user.value = "";
          pass.value = "";
          chk.disabled = true
        }
      };
      let r = "";
      const getCookie = (name) => {
        let arr = document.cookie;
        let ck = arr.split("; ");
        ck.forEach((element) => {
          if (element.indexOf(name) == 0) {
            r = element.substring(name.length + 1);
          }
        });
        return r;
      };
      let usr = getCookie("name");
      let pwd = getCookie("pass");
      console.log(usr, pwd);
      console.log(document.cookie);
      if (usr !== "null" && pwd !== "null") {
        user.value = usr;
        pass.value = pwd;
        chk.checked = true;
      }
      else {
        // chk.disabled = true
        chk.checked = false
      }
      
      user.onchange = () => {
        if (user.value != ""){
          chk.disabled = false
        }
      } 
    </script>
  </body>
</html>